# 📖 字幕遮挡工具 - 详细使用说明

## 如何将应用安装到手机

### 第一步：生成 APK 安装包

#### 方法 1：在 macOS/Linux 上（推荐）
```bash
# 1. 打开终端，进入项目目录
cd /Users/lijiadong/Documents/file/hide

# 2. 运行构建脚本
./build_apk.sh

# 3. 等待完成，APK 文件生成在：
#    app/build/outputs/apk/debug/app-debug.apk
```

#### 方法 2：在 Windows 上
```cmd
# 1. 打开命令提示符，进入项目目录
cd C:\Users\你的用户名\Documents\hide

# 2. 运行构建脚本
build_apk.bat

# 3. 等待完成，APK 文件生成在：
#    app\build\outputs\apk\debug\app-debug.apk
```

#### 方法 3：使用 Android Studio（最简单）
1. 下载并安装 [Android Studio](https://developer.android.com/studio)
2. 打开 Android Studio，选择 **File → Open**
3. 选择项目文件夹 `hide`
4. 等待项目加载完成（首次需要下载依赖）
5. 点击顶部菜单 **Build → Build APK(s)**
6. 等待 2-3 分钟，构建完成后点击 "locate"
7. 找到生成的 APK 文件

### 第二步：安装到手机

#### 方法 A：直接传送到手机安装（推荐）
1. 找到 APK 文件：
   - macOS: `app/build/outputs/apk/debug/app-debug.apk`
   - Windows: `app\build\outputs\apk\debug\app-debug.apk`
2. 发送到手机：
   - 通过 QQ 文件助手
   - 通过微信文件传输
   - 通过百度网盘、OneDrive 等
   - 直接 USB 传输
3. 在手机上安装：
   - 打开文件管理器，找到 APK 文件
   - 点击安装
   - 如果提示"禁止安装未知来源"，去设置中允许安装
   - 安装完成后点击"打开"

#### 方法 B：USB 调试安装（高级）
1. 启用开发者选项：
   - 打开手机"设置"
   - 进入"关于手机"
   - 连续点击"版本号"7次
   - 返回设置，进入"开发者选项"
2. 启用 USB 调试：
   - 在"开发者选项"中开启"USB调试"
   - 用 USB 线连接手机和电脑
   - 手机上点击"允许 USB 调试"
3. 在命令行安装：
   ```bash
   # macOS/Linux
   ./gradlew installDebug
   
   # Windows
   gradlew.bat installDebug
   ```

## 如何使用应用

### 首次启动

1. **打开应用**
   - 在手机桌面找到"字幕遮挡工具"图标
   - 点击打开

2. **授予权限（重要！）**
   - 首次打开会提示"授予悬浮窗权限"
   - 点击"去设置"或手动进入设置
   - 找到"字幕遮挡工具"
   - 开启"显示在其他应用的上层"（或"悬浮窗权限"）
   - 不同手机品牌显示可能不同：
     - 华为/荣耀：悬浮窗
     - 小米/红米：显示在其他应用的上层
     - OPPO/一加：悬浮窗
     - vivo：显示在其他应用的上层
     - 三星：应用重叠
   - ⚠️ **这是必须的！没有权限无法使用**

### 使用遮挡块

1. **启动遮挡块**
   - 在主界面点击"启动字幕遮挡"开关
   - 或点击下方的绿色按钮
   - 屏幕上会出现一个黑色半透明遮挡块

2. **移动遮挡块**
   - 手指放在遮挡块上
   - 任意方向滑动即可移动位置
   - 移动到你想遮挡的字幕位置

3. **调整遮挡块大小**
   - 长按遮挡块的**右下角边缘**
   - 拖动调整宽度和高度
   - 建议调整到刚好覆盖字幕区域

4. **调节透明度**
   - 返回主应用界面
   - 拖动"透明度"滑动条
   - 0% = 完全透明（看不到）
   - 100% = 完全不透明（黑色）
   - 推荐 50-70% 左右

5. **关闭遮挡块**
   - 返回主应用
   - 点击"启动字幕遮挡"开关关闭
   - 或再次点击绿色按钮关闭

### 使用场景

**观看带字幕的视频：**
1. 打开视频播放器（比如腾讯视频、爱奇艺等）
2. 打开"字幕遮挡工具"
3. 启动遮挡块
4. 将遮挡块拖动到字幕位置
5. 调整到合适大小
6. 调节透明度，让遮挡更自然
7. 全屏观看视频，字幕已被遮挡！

**关闭遮挡：**
- 观看结束后，返回应用关闭遮挡块
- 或者直接关闭应用（遮挡块会自动消失）

## 📋 常见问题

### Q: 为什么看不到遮挡块？
**A:** 最常见原因是未授予悬浮窗权限。请在手机的"设置 → 应用 → 字幕遮挡工具"中开启"悬浮窗"或"显示在其他应用上层"权限。

### Q: 遮挡块无法拖动？
**A:** 确保没有开启其他悬浮窗应用（如键盘、浮动球等），关闭这些应用后再试。

### Q: 如何调整遮挡块变得更小？
**A:** 长按遮挡块右下角边缘，向内拖动即可缩小。

### Q: 会影响视频播放吗？
**A:** 不会。遮挡块使用硬件加速，不会影响视频播放流畅度。

### Q: 应用会耗电吗？
**A:** 不会明显增加耗电。遮挡块只是一个简单的视图层。

### Q: 如何卸载应用？
**A:** 在手机的"设置 → 应用 → 字幕遮挡工具 → 卸载"即可。

### Q: 支持所有视频应用吗？
**A:** 是的。这是系统级悬浮窗，可以在任何应用上显示，包括所有视频播放器。

### Q: 同时可以创建多个遮挡块吗？
**A:** 目前版本只支持一个遮挡块。如果需要遮挡多处，可以调整遮挡块大小覆盖。

## ⚠️ 注意事项

1. **必须授予权限**：没有悬浮窗权限无法使用
2. **不要完全遮挡**：建议保留一定透明度，避免完全遮挡
3. **调整大小前先定位**：先找到字幕位置，再调整遮挡块大小
4. **不同视频不同设置**：横屏和竖屏视频可能需要不同的遮挡设置
5. **安卓版本要求**：需要 Android 8.0 (API 26) 以上

## 💡 使用技巧

1. **先开视频再开遮挡**：先全屏播放视频，看清字幕位置，再启动遮挡块
2. **使用50%透明**：既能遮挡字幕，又不会太突兀
3. **定期清理**：观看结束后记得关闭遮挡块
4. **保存常用设置**：记住你常看的视频格式，下次可以直接调整

---

**祝您使用愉快！如有问题，请查看项目 README.md 或创建 Issue。**

